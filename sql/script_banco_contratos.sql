-- MySQL Script generated by MySQL Workbench
-- Tue Jan 28 11:45:24 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema contrato_gn_db
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema contrato_gn_db
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `contrato_gn_db` DEFAULT CHARACTER SET utf8 ;
USE `contrato_gn_db` ;

-- -----------------------------------------------------
-- Table `contrato_gn_db`.`TRANSPORTADOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`TRANSPORTADOR` (
  `COD_TRANSPORTADORA` BIGINT NOT NULL,
  `CNPJ` VARCHAR(14) NOT NULL,
  `NOME_REDUZIDO` VARCHAR(45) NOT NULL,
  `RAZAO_SOCIAL` VARCHAR(255) NOT NULL,
  `ENDEREÃ‡O_MATRIZ` VARCHAR(255) NOT NULL,
  `BAIRRO` VARCHAR(45) NOT NULL,
  `MUNICIPIO` VARCHAR(45) NOT NULL,
  `UF` VARCHAR(45) NOT NULL,
  `CEP` VARCHAR(9) NOT NULL,
  `SITUACAO` VARCHAR(45) NULL,
  `INICIO_SITUACAO` DATE NULL,
  `FIM_SITUACAO` DATE NULL,
  PRIMARY KEY (`COD_TRANSPORTADORA`),
  UNIQUE INDEX `CNPJ_UNIQUE` (`CNPJ` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`CARREGADOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`CARREGADOR` (
  `COD_CARREGADOR` BIGINT NOT NULL,
  `CNPJ` VARCHAR(14) NOT NULL,
  `NOME_REDUZIDO` VARCHAR(100) NOT NULL,
  `RAZAO_SOCIAL` VARCHAR(255) NOT NULL,
  `ENDERECO_MATRIZ` VARCHAR(255) NOT NULL,
  `BAIRRO` VARCHAR(100) NOT NULL,
  `MUNICIPIO` VARCHAR(100) NOT NULL,
  `UF` CHAR(2) NOT NULL,
  `CEP` VARCHAR(9) NOT NULL,
  `SITUACAO` VARCHAR(45) NULL,
  `INICIO_SITUACAO` DATE NULL,
  `FIM_SITUACAO` DATE NULL,
  `DATA_AUTORIZACAO` DATE NULL,
  PRIMARY KEY (`COD_CARREGADOR`),
  UNIQUE INDEX `CNPJ_UNIQUE` (`CNPJ` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`TIPO_INSTRUMENTO_CONTRATUAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`TIPO_INSTRUMENTO_CONTRATUAL` (
  `COD_TIPO_IC` BIGINT NOT NULL,
  `TIPO_INSTRUMENTO_CONTRATUAL` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_TIPO_IC`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL` (
  `COD_CONTRATO` BIGINT NOT NULL,
  `NUM_SEI_ORIGINAL` VARCHAR(45) NULL,
  `DATA_ASSINATURA` DATETIME NOT NULL,
  `DATA_PROTOCOLO` DATETIME NOT NULL,
  `PROCESSO_ADMINISTRATIVO` VARCHAR(20) NOT NULL,
  `NUM_SEI_TARJADO` VARCHAR(45) NULL,
  `NUM_SEI_MINUTA_APROVADA` VARCHAR(45) NULL,
  `TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  `CARREGADOR_COD_CARREGADOR` BIGINT NOT NULL,
  `TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` BIGINT NOT NULL,
  PRIMARY KEY (`COD_CONTRATO`, `TRANSPORTADOR_COD_TRANSPORTADORA`, `CARREGADOR_COD_CARREGADOR`, `TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`),
  INDEX `fk_CONTRATO_TRANSPORTADOR_idx` (`TRANSPORTADOR_COD_TRANSPORTADORA` ASC) VISIBLE,
  INDEX `fk_CONTRATO_CARREGADOR1_idx` (`CARREGADOR_COD_CARREGADOR` ASC) VISIBLE,
  INDEX `fk_INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL1_idx` (`TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` ASC) VISIBLE,
  CONSTRAINT `fk_CONTRATO_TRANSPORTADOR`
    FOREIGN KEY (`TRANSPORTADOR_COD_TRANSPORTADORA`)
    REFERENCES `contrato_gn_db`.`TRANSPORTADOR` (`COD_TRANSPORTADORA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_CARREGADOR1`
    FOREIGN KEY (`CARREGADOR_COD_CARREGADOR`)
    REFERENCES `contrato_gn_db`.`CARREGADOR` (`COD_CARREGADOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL1`
    FOREIGN KEY (`TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    REFERENCES `contrato_gn_db`.`TIPO_INSTRUMENTO_CONTRATUAL` (`COD_TIPO_IC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`PERIODICIDADE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`PERIODICIDADE` (
  `COD_PERIODICIDADE` BIGINT NOT NULL,
  `PERIODICIDADE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_PERIODICIDADE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`REGIME_CONTRATACAO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`REGIME_CONTRATACAO` (
  `COD_REGIME` BIGINT NOT NULL,
  `REGIME` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`COD_REGIME`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`TERMO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`TERMO` (
  `COD_TERMO` BIGINT NOT NULL,
  `DATA_VIGENCIA_ALTERADA` ENUM("NAO", "SIM") NOT NULL,
  `INSTRUMENTO_CONTRATUAL_COD_CONTRATO` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` BIGINT NOT NULL,
  PRIMARY KEY (`COD_TERMO`, `INSTRUMENTO_CONTRATUAL_COD_CONTRATO`, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA`, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR`, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`),
  INDEX `fk_TERMO_INSTRUMENTO_CONTRATUAL1_idx` (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` ASC, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` ASC, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` ASC, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` ASC) VISIBLE,
  CONSTRAINT `fk_TERMO_INSTRUMENTO_CONTRATUAL1`
    FOREIGN KEY (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` , `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` , `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` , `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    REFERENCES `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL` (`COD_CONTRATO` , `TRANSPORTADOR_COD_TRANSPORTADORA` , `CARREGADOR_COD_CARREGADOR` , `TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`QDC`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`QDC` (
  `COD_QDC` BIGINT NOT NULL,
  `VOLUME_QDC` DECIMAL(10,2) NOT NULL,
  `LIMITE_QUATIDADE_EXCEDENTE` DECIMAL(10,2) NULL,
  `VARIACAO_DIARIA` DECIMAL(10,2) NULL,
  `DATA_INICIO` DATETIME NOT NULL,
  `DATA_FIM` DATETIME NULL,
  `REGIME_CONTRATACAO_COD_REGIME` BIGINT NOT NULL,
  PRIMARY KEY (`COD_QDC`, `REGIME_CONTRATACAO_COD_REGIME`),
  INDEX `fk_QDC_REGIME_CONTRATACAO1_idx` (`REGIME_CONTRATACAO_COD_REGIME` ASC) VISIBLE,
  CONSTRAINT `fk_QDC_REGIME_CONTRATACAO1`
    FOREIGN KEY (`REGIME_CONTRATACAO_COD_REGIME`)
    REFERENCES `contrato_gn_db`.`REGIME_CONTRATACAO` (`COD_REGIME`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`MALHA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`MALHA` (
  `COD_MALHA` BIGINT NOT NULL,
  `NOME_MALHA` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_MALHA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`TIPO_DUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`TIPO_DUTO` (
  `COD_TIPO_DUTO` BIGINT NOT NULL AUTO_INCREMENT,
  `TIPO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_TIPO_DUTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`GASODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`GASODUTO` (
  `COD_GASODUTO` BIGINT NOT NULL,
  `NOME_DUTO` VARCHAR(255) NOT NULL,
  `EXTENSAO` DECIMAL(10,2) NOT NULL,
  `MALHA_COD_MALHA` BIGINT NOT NULL,
  `TIPO_DUTO_COD_TIPO_DUTO` BIGINT NOT NULL,
  `TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  PRIMARY KEY (`COD_GASODUTO`, `MALHA_COD_MALHA`, `TIPO_DUTO_COD_TIPO_DUTO`, `TRANSPORTADOR_COD_TRANSPORTADORA`),
  INDEX `fk_GASODUTO_MALHA1_idx` (`MALHA_COD_MALHA` ASC) VISIBLE,
  INDEX `fk_GASODUTO_TIPO_DUTO1_idx` (`TIPO_DUTO_COD_TIPO_DUTO` ASC) VISIBLE,
  INDEX `fk_GASODUTO_TRANSPORTADOR1_idx` (`TRANSPORTADOR_COD_TRANSPORTADORA` ASC) VISIBLE,
  CONSTRAINT `fk_GASODUTO_MALHA1`
    FOREIGN KEY (`MALHA_COD_MALHA`)
    REFERENCES `contrato_gn_db`.`MALHA` (`COD_MALHA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_GASODUTO_TIPO_DUTO1`
    FOREIGN KEY (`TIPO_DUTO_COD_TIPO_DUTO`)
    REFERENCES `contrato_gn_db`.`TIPO_DUTO` (`COD_TIPO_DUTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_GASODUTO_TRANSPORTADOR1`
    FOREIGN KEY (`TRANSPORTADOR_COD_TRANSPORTADORA`)
    REFERENCES `contrato_gn_db`.`TRANSPORTADOR` (`COD_TRANSPORTADORA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`TIPO_PONTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`TIPO_PONTO` (
  `COD_TIPO_PONTO` BIGINT NOT NULL,
  `TIPO_PONTO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_TIPO_PONTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`INSTALACAO_PONTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`INSTALACAO_PONTO` (
  `COD_PONTO` BIGINT NOT NULL,
  `PONTO` VARCHAR(255) NOT NULL,
  `MUNICIPIO` VARCHAR(100) NOT NULL,
  `UF` CHAR(2) NOT NULL,
  `TIPO_PONTO_COD_TIPO_PONTO` BIGINT NOT NULL,
  `GASODUTO_COD_GASODUTO` BIGINT NOT NULL,
  `GASODUTO_MALHA_COD_MALHA` BIGINT NOT NULL,
  `GASODUTO_TIPO_DUTO_COD_TIPO_DUTO` BIGINT NOT NULL,
  `GASODUTO_TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  PRIMARY KEY (`COD_PONTO`, `TIPO_PONTO_COD_TIPO_PONTO`, `GASODUTO_COD_GASODUTO`, `GASODUTO_MALHA_COD_MALHA`, `GASODUTO_TIPO_DUTO_COD_TIPO_DUTO`, `GASODUTO_TRANSPORTADOR_COD_TRANSPORTADORA`),
  INDEX `fk_INSTALACAO_PONTO_TIPO_PONTO1_idx` (`TIPO_PONTO_COD_TIPO_PONTO` ASC) VISIBLE,
  INDEX `fk_INSTALACAO_PONTO_GASODUTO1_idx` (`GASODUTO_COD_GASODUTO` ASC, `GASODUTO_MALHA_COD_MALHA` ASC, `GASODUTO_TIPO_DUTO_COD_TIPO_DUTO` ASC, `GASODUTO_TRANSPORTADOR_COD_TRANSPORTADORA` ASC) VISIBLE,
  CONSTRAINT `fk_INSTALACAO_PONTO_TIPO_PONTO1`
    FOREIGN KEY (`TIPO_PONTO_COD_TIPO_PONTO`)
    REFERENCES `contrato_gn_db`.`TIPO_PONTO` (`COD_TIPO_PONTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_INSTALACAO_PONTO_GASODUTO1`
    FOREIGN KEY (`GASODUTO_COD_GASODUTO` , `GASODUTO_MALHA_COD_MALHA` , `GASODUTO_TIPO_DUTO_COD_TIPO_DUTO` , `GASODUTO_TRANSPORTADOR_COD_TRANSPORTADORA`)
    REFERENCES `contrato_gn_db`.`GASODUTO` (`COD_GASODUTO` , `MALHA_COD_MALHA` , `TIPO_DUTO_COD_TIPO_DUTO` , `TRANSPORTADOR_COD_TRANSPORTADORA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`ADITIVO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`ADITIVO` (
  `COD_ADITIVO` BIGINT NOT NULL,
  `DATA_VIGENCIA_ALTERADA` ENUM("SIM", "NAO") NOT NULL,
  `INSTRUMENTO_CONTRATUAL_COD_CONTRATO` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` BIGINT NOT NULL,
  PRIMARY KEY (`COD_ADITIVO`, `INSTRUMENTO_CONTRATUAL_COD_CONTRATO`, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA`, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR`, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`),
  INDEX `fk_ADITIVO_INSTRUMENTO_CONTRATUAL1_idx` (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` ASC, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` ASC, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` ASC, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` ASC) VISIBLE,
  CONSTRAINT `fk_ADITIVO_INSTRUMENTO_CONTRATUAL1`
    FOREIGN KEY (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` , `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` , `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` , `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    REFERENCES `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL` (`COD_CONTRATO` , `TRANSPORTADOR_COD_TRANSPORTADORA` , `CARREGADOR_COD_CARREGADOR` , `TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`MODALIDADE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`MODALIDADE` (
  `COD_MODALIDADE` BIGINT NOT NULL,
  `MODALIDADE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`COD_MODALIDADE`),
  UNIQUE INDEX `MODALIDADE_UNIQUE` (`MODALIDADE` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`CONTRATO_TRANSPORTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`CONTRATO_TRANSPORTE` (
  `COD_CONTRATO_TRANSPORTE` BIGINT NOT NULL,
  `COD_CONTRATO_NA_TRANSPORTADORA` VARCHAR(100) NULL,
  `DATA_INICIO_SERVICO` DATETIME NOT NULL,
  `DATA_FIM_SERVICO` DATETIME NOT NULL,
  `TARIFA` DECIMAL(10,4) NULL,
  `PERIODICIDADE_COD_PERIODICIDADE` BIGINT NOT NULL,
  `MODALIDADE_COD_MODALIDADE` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_COD_CONTRATO` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` BIGINT NOT NULL,
  PRIMARY KEY (`COD_CONTRATO_TRANSPORTE`, `PERIODICIDADE_COD_PERIODICIDADE`, `MODALIDADE_COD_MODALIDADE`, `INSTRUMENTO_CONTRATUAL_COD_CONTRATO`, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA`, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR`, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`),
  INDEX `fk_CONTRATO_TRANSPORTE_PERIODICIDADE1_idx` (`PERIODICIDADE_COD_PERIODICIDADE` ASC) VISIBLE,
  INDEX `fk_CONTRATO_TRANSPORTE_MODALIDADE1_idx` (`MODALIDADE_COD_MODALIDADE` ASC) VISIBLE,
  INDEX `fk_CONTRATO_TRANSPORTE_INSTRUMENTO_CONTRATUAL1_idx` (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` ASC, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` ASC, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` ASC, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` ASC) VISIBLE,
  CONSTRAINT `fk_CONTRATO_TRANSPORTE_PERIODICIDADE1`
    FOREIGN KEY (`PERIODICIDADE_COD_PERIODICIDADE`)
    REFERENCES `contrato_gn_db`.`PERIODICIDADE` (`COD_PERIODICIDADE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_TRANSPORTE_MODALIDADE1`
    FOREIGN KEY (`MODALIDADE_COD_MODALIDADE`)
    REFERENCES `contrato_gn_db`.`MODALIDADE` (`COD_MODALIDADE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_TRANSPORTE_INSTRUMENTO_CONTRATUAL1`
    FOREIGN KEY (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` , `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` , `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` , `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    REFERENCES `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL` (`COD_CONTRATO` , `TRANSPORTADOR_COD_TRANSPORTADORA` , `CARREGADOR_COD_CARREGADOR` , `TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`CONTRATO_MASTER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`CONTRATO_MASTER` (
  `COD_MASTER` BIGINT NOT NULL,
  `DATA_INICIO` DATETIME NOT NULL,
  `DATA_FIM` DATETIME NOT NULL,
  `INSTRUMENTO_CONTRATUAL_COD_CONTRATO` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` BIGINT NOT NULL,
  PRIMARY KEY (`COD_MASTER`, `INSTRUMENTO_CONTRATUAL_COD_CONTRATO`, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA`, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR`, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`),
  INDEX `fk_CONTRATO_MASTER_INSTRUMENTO_CONTRATUAL1_idx` (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` ASC, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` ASC, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` ASC, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` ASC) VISIBLE,
  CONSTRAINT `fk_CONTRATO_MASTER_INSTRUMENTO_CONTRATUAL1`
    FOREIGN KEY (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` , `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` , `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` , `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    REFERENCES `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL` (`COD_CONTRATO` , `TRANSPORTADOR_COD_TRANSPORTADORA` , `CARREGADOR_COD_CARREGADOR` , `TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL_has_QDC`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL_has_QDC` (
  `INSTRUMENTO_CONTRATUAL_COD_CONTRATO` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` BIGINT NOT NULL,
  `QDC_COD_QDC` BIGINT NOT NULL,
  `QDC_REGIME_CONTRATACAO_COD_REGIME` BIGINT NOT NULL,
  PRIMARY KEY (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO`, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA`, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR`, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`, `QDC_COD_QDC`, `QDC_REGIME_CONTRATACAO_COD_REGIME`),
  INDEX `fk_INSTRUMENTO_CONTRATUAL_has_QDC_QDC1_idx` (`QDC_COD_QDC` ASC, `QDC_REGIME_CONTRATACAO_COD_REGIME` ASC) VISIBLE,
  INDEX `fk_INSTRUMENTO_CONTRATUAL_has_QDC_INSTRUMENTO_CONTRATUAL1_idx` (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` ASC, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` ASC, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` ASC, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` ASC) VISIBLE,
  CONSTRAINT `fk_INSTRUMENTO_CONTRATUAL_has_QDC_INSTRUMENTO_CONTRATUAL1`
    FOREIGN KEY (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` , `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` , `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` , `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    REFERENCES `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL` (`COD_CONTRATO` , `TRANSPORTADOR_COD_TRANSPORTADORA` , `CARREGADOR_COD_CARREGADOR` , `TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_INSTRUMENTO_CONTRATUAL_has_QDC_QDC1`
    FOREIGN KEY (`QDC_COD_QDC` , `QDC_REGIME_CONTRATACAO_COD_REGIME`)
    REFERENCES `contrato_gn_db`.`QDC` (`COD_QDC` , `REGIME_CONTRATACAO_COD_REGIME`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`QDC_has_MALHA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`QDC_has_MALHA` (
  `QDC_COD_QDC` BIGINT NOT NULL,
  `QDC_REGIME_CONTRATACAO_COD_REGIME` BIGINT NOT NULL,
  `MALHA_COD_MALHA` BIGINT NOT NULL,
  PRIMARY KEY (`QDC_COD_QDC`, `QDC_REGIME_CONTRATACAO_COD_REGIME`, `MALHA_COD_MALHA`),
  INDEX `fk_QDC_has_MALHA_MALHA1_idx` (`MALHA_COD_MALHA` ASC) VISIBLE,
  INDEX `fk_QDC_has_MALHA_QDC1_idx` (`QDC_COD_QDC` ASC, `QDC_REGIME_CONTRATACAO_COD_REGIME` ASC) VISIBLE,
  CONSTRAINT `fk_QDC_has_MALHA_QDC1`
    FOREIGN KEY (`QDC_COD_QDC` , `QDC_REGIME_CONTRATACAO_COD_REGIME`)
    REFERENCES `contrato_gn_db`.`QDC` (`COD_QDC` , `REGIME_CONTRATACAO_COD_REGIME`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_QDC_has_MALHA_MALHA1`
    FOREIGN KEY (`MALHA_COD_MALHA`)
    REFERENCES `contrato_gn_db`.`MALHA` (`COD_MALHA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `contrato_gn_db`.`ACORDO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `contrato_gn_db`.`ACORDO` (
  `COD_ACORDO` BIGINT NOT NULL,
  `REGISTRO` VARCHAR(45) NOT NULL,
  `OBSERVACAO` LONGTEXT NULL,
  `DATA_INICIO` DATETIME NOT NULL,
  `DATA_TERMINO` DATETIME NOT NULL,
  `INSTRUMENTO_CONTRATUAL_COD_CONTRATO` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` BIGINT NOT NULL,
  `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` BIGINT NOT NULL,
  PRIMARY KEY (`COD_ACORDO`, `INSTRUMENTO_CONTRATUAL_COD_CONTRATO`, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA`, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR`, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`),
  INDEX `fk_ACORDO_INSTRUMENTO_CONTRATUAL1_idx` (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` ASC, `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` ASC, `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` ASC, `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC` ASC) VISIBLE,
  CONSTRAINT `fk_ACORDO_INSTRUMENTO_CONTRATUAL1`
    FOREIGN KEY (`INSTRUMENTO_CONTRATUAL_COD_CONTRATO` , `INSTRUMENTO_CONTRATUAL_TRANSPORTADOR_COD_TRANSPORTADORA` , `INSTRUMENTO_CONTRATUAL_CARREGADOR_COD_CARREGADOR` , `INSTRUMENTO_CONTRATUAL_TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    REFERENCES `contrato_gn_db`.`INSTRUMENTO_CONTRATUAL` (`COD_CONTRATO` , `TRANSPORTADOR_COD_TRANSPORTADORA` , `CARREGADOR_COD_CARREGADOR` , `TIPO_INSTRUMENTO_CONTRATUAL_COD_TIPO_IC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
